{"filter":false,"title":"index37-Destructible.html","tooltip":"/index37-Destructible.html","undoManager":{"mark":29,"position":29,"stack":[[{"start":{"row":0,"column":0},"end":{"row":402,"column":7},"action":"insert","lines":["<html lang=\"en\">","\t<head>","\t\t<title>Convex object breaking example</title>","\t\t<meta charset=\"utf-8\">","\t\t<meta name=\"viewport\" content=\"width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0\">","\t\t<style>","\t\t\tbody {","\t\t\t\tcolor: #61443e;","\t\t\t\tfont-family:Monospace;","\t\t\t\tfont-size:13px;","\t\t\t\ttext-align:center;","\t\t\t\tbackground-color: #bfd1e5;","\t\t\t\tmargin: 0px;","\t\t\t\toverflow: hidden;","\t\t\t}","\t\t\t#info {","\t\t\t\tposition: absolute;","\t\t\t\ttop: 0px; width: 100%;","\t\t\t\tpadding: 5px;","\t\t\t}","\t\t\ta {","\t\t\t\tcolor: #a06851;","\t\t\t}","\t\t</style>","\t</head>","\t<body>","","\t<div id=\"info\">Physics threejs demo with convex objects breaking in real time<br />Press mouse to throw balls and move the camera.</div>","\t<div id=\"container\"><br /><br /><br /><br /><br />Loading...</div>","","\t<script src=\"../build/three.js\"></script>","\t<script src=\"js/libs/ammo.js\"></script>","\t<script src=\"js/controls/OrbitControls.js\"></script>","\t<script src=\"js/Detector.js\"></script>","\t<script src=\"js/libs/stats.min.js\"></script>","\t<script src=\"js/ConvexObjectBreaker.js\"></script>","\t<script src=\"js/QuickHull.js\"></script>","\t<script src=\"js/geometries/ConvexGeometry.js\"></script>","","\t\t<script>","\t\t// Detects webgl","\t\tif ( ! Detector.webgl ) {","\t\t\tDetector.addGetWebGLMessage();","\t\t\tdocument.getElementById( 'container' ).innerHTML = \"\";","\t\t}","\t\t// - Global variables -","\t\t// Graphics variables","\t\tvar container, stats;","\t\tvar camera, controls, scene, renderer;","\t\tvar textureLoader;","\t\tvar clock = new THREE.Clock();","\t\tvar mouseCoords = new THREE.Vector2();","\t\tvar raycaster = new THREE.Raycaster();","\t\tvar ballMaterial = new THREE.MeshPhongMaterial( { color: 0x202020 } );","\t\t// Physics variables","\t\tvar gravityConstant = 7.8;","\t\tvar collisionConfiguration;","\t\tvar dispatcher;","\t\tvar broadphase;","\t\tvar solver;","\t\tvar physicsWorld;","\t\tvar margin = 0.05;","\t\tvar convexBreaker = new THREE.ConvexObjectBreaker();","\t\t// Rigid bodies include all movable objects","\t\tvar rigidBodies = [];","\t\tvar pos = new THREE.Vector3();","\t\tvar quat = new THREE.Quaternion();","\t\tvar transformAux1 = new Ammo.btTransform();","\t\tvar tempBtVec3_1 = new Ammo.btVector3( 0, 0, 0 );","\t\tvar time = 0;","\t\tvar objectsToRemove = [];","\t\tfor ( var i = 0; i < 500; i++ ) {","\t\t\tobjectsToRemove[ i ] = null;","\t\t}","\t\tvar numObjectsToRemove = 0;","\t\tvar impactPoint = new THREE.Vector3();","\t\tvar impactNormal = new THREE.Vector3();","\t\t// - Main code -","\t\tinit();","\t\tanimate();","\t\t// - Functions -","\t\tfunction init() {","\t\t\tinitGraphics();","\t\t\tinitPhysics();","\t\t\tcreateObjects();","\t\t\tinitInput();","\t\t}","\t\tfunction initGraphics() {","\t\t\tcontainer = document.getElementById( 'container' );","\t\t\tcamera = new THREE.PerspectiveCamera( 60, window.innerWidth / window.innerHeight, 0.2, 2000 );","\t\t\tscene = new THREE.Scene();","\t\t\tcamera.position.x = -14;","\t\t\tcamera.position.y = 8;","\t\t\tcamera.position.z =  16;","\t\t\tcontrols = new THREE.OrbitControls( camera );","\t\t\tcontrols.target.y = 2;","\t\t\trenderer = new THREE.WebGLRenderer();","\t\t\trenderer.setClearColor( 0xbfd1e5 );","\t\t\trenderer.setPixelRatio( window.devicePixelRatio );","\t\t\trenderer.setSize( window.innerWidth, window.innerHeight );","\t\t\trenderer.shadowMap.enabled = true;","\t\t\ttextureLoader = new THREE.TextureLoader();","\t\t\tvar ambientLight = new THREE.AmbientLight( 0x707070 );","\t\t\tscene.add( ambientLight );","\t\t\tvar light = new THREE.DirectionalLight( 0xffffff, 1 );","\t\t\tlight.position.set( -10, 18, 5 );","\t\t\tlight.castShadow = true;","\t\t\tvar d = 14;","\t\t\tlight.shadow.camera.left = -d;","\t\t\tlight.shadow.camera.right = d;","\t\t\tlight.shadow.camera.top = d;","\t\t\tlight.shadow.camera.bottom = -d;","\t\t\tlight.shadow.camera.near = 2;","\t\t\tlight.shadow.camera.far = 50;","\t\t\tlight.shadow.mapSize.x = 1024;","\t\t\tlight.shadow.mapSize.y = 1024;","\t\t\tscene.add( light );","\t\t\tcontainer.innerHTML = \"\";","\t\t\tcontainer.appendChild( renderer.domElement );","\t\t\tstats = new Stats();","\t\t\tstats.domElement.style.position = 'absolute';","\t\t\tstats.domElement.style.top = '0px';","\t\t\tcontainer.appendChild( stats.domElement );","\t\t\t//","\t\t\twindow.addEventListener( 'resize', onWindowResize, false );","\t\t}","\t\tfunction initPhysics() {","\t\t\t// Physics configuration","\t\t\tcollisionConfiguration = new Ammo.btDefaultCollisionConfiguration();","\t\t\tdispatcher = new Ammo.btCollisionDispatcher( collisionConfiguration );","\t\t\tbroadphase = new Ammo.btDbvtBroadphase();","\t\t\tsolver = new Ammo.btSequentialImpulseConstraintSolver();","\t\t\tphysicsWorld = new Ammo.btDiscreteDynamicsWorld( dispatcher, broadphase, solver, collisionConfiguration );","\t\t\tphysicsWorld.setGravity( new Ammo.btVector3( 0, - gravityConstant, 0 ) );","\t\t}","\t\tfunction createObject( mass, halfExtents, pos, quat, material ) {","\t\t\tvar object = new THREE.Mesh( new THREE.BoxGeometry( halfExtents.x * 2, halfExtents.y * 2, halfExtents.z * 2 ), material );","\t\t\tobject.position.copy( pos );","\t\t\tobject.quaternion.copy( quat );","\t\t\tconvexBreaker.prepareBreakableObject( object, mass, new THREE.Vector3(), new THREE.Vector3(), true );","\t\t\tcreateDebrisFromBreakableObject( object );","\t\t}","\t\tfunction createObjects() {","\t\t\t// Ground","\t\t\tpos.set( 0, - 0.5, 0 );","\t\t\tquat.set( 0, 0, 0, 1 );","\t\t\tvar ground = createParalellepipedWithPhysics( 40, 1, 40, 0, pos, quat, new THREE.MeshPhongMaterial( { color: 0xFFFFFF } ) );","\t\t\tground.receiveShadow = true;","\t\t\ttextureLoader.load( \"textures/grid.png\", function( texture ) {","\t\t\t\ttexture.wrapS = THREE.RepeatWrapping;","\t\t\t\ttexture.wrapT = THREE.RepeatWrapping;","\t\t\t\ttexture.repeat.set( 40, 40 );","\t\t\t\tground.material.map = texture;","\t\t\t\tground.material.needsUpdate = true;","\t\t\t} );","\t\t\t// Tower 1","\t\t\tvar towerMass = 1000;","\t\t\tvar towerHalfExtents = new THREE.Vector3( 2, 5, 2 );","\t\t\tpos.set( -8, 5, 0 );","\t\t\tquat.set( 0, 0, 0, 1 );","\t\t\tcreateObject( towerMass, towerHalfExtents, pos, quat, createMaterial( 0xF0A024 ) );","\t\t\t// Tower 2","\t\t\tpos.set( 8, 5, 0 );","\t\t\tquat.set( 0, 0, 0, 1 );","\t\t\tcreateObject( towerMass, towerHalfExtents, pos, quat, createMaterial( 0xF4A321 ) );","\t\t\t//Bridge","\t\t\tvar bridgeMass = 100;","\t\t\tvar bridgeHalfExtents = new THREE.Vector3( 7, 0.2, 1.5 );","\t\t\tpos.set( 0, 10.2, 0 );","\t\t\tquat.set( 0, 0, 0, 1 );","\t\t\tcreateObject( bridgeMass, bridgeHalfExtents, pos, quat, createMaterial( 0xB38835 ) );","\t\t\t// Stones","\t\t\tvar stoneMass = 120;","\t\t\tvar stoneHalfExtents = new THREE.Vector3( 1, 2, 0.15 );","\t\t\tvar numStones = 8;","\t\t\tquat.set( 0, 0, 0, 1 );","\t\t\tfor ( var i = 0; i < numStones; i++ ) {","\t\t\t\tpos.set( 0, 2, 15 * ( 0.5 - i / ( numStones + 1 ) ) );","\t\t\t\tcreateObject( stoneMass, stoneHalfExtents, pos, quat, createMaterial( 0xB0B0B0 ) );","\t\t\t}","\t\t\t// Mountain","\t\t\tvar mountainMass = 860;","\t\t\tvar mountainHalfExtents = new THREE.Vector3( 4, 5, 4 );","\t\t\tpos.set( 5, mountainHalfExtents.y * 0.5, - 7 );","\t\t\tquat.set( 0, 0, 0, 1 );","\t\t\tvar mountainPoints = [];","\t\t\tmountainPoints.push( new THREE.Vector3( mountainHalfExtents.x, - mountainHalfExtents.y, mountainHalfExtents.z ) );","\t\t\tmountainPoints.push( new THREE.Vector3( - mountainHalfExtents.x, - mountainHalfExtents.y, mountainHalfExtents.z ) );","\t\t\tmountainPoints.push( new THREE.Vector3( mountainHalfExtents.x, - mountainHalfExtents.y, - mountainHalfExtents.z ) );","\t\t\tmountainPoints.push( new THREE.Vector3( - mountainHalfExtents.x, - mountainHalfExtents.y, - mountainHalfExtents.z ) );","\t\t\tmountainPoints.push( new THREE.Vector3( 0, mountainHalfExtents.y, 0 ) );","\t\t\tvar mountain = new THREE.Mesh( new THREE.ConvexGeometry( mountainPoints ), createMaterial( 0xFFB443 ) );","\t\t\tmountain.position.copy( pos );","\t\t\tmountain.quaternion.copy( quat );","\t\t\tconvexBreaker.prepareBreakableObject( mountain, mountainMass, new THREE.Vector3(), new THREE.Vector3(), true );","\t\t\tcreateDebrisFromBreakableObject( mountain );","\t\t}","\t\tfunction createParalellepipedWithPhysics( sx, sy, sz, mass, pos, quat, material ) {","\t\t\tvar object = new THREE.Mesh( new THREE.BoxGeometry( sx, sy, sz, 1, 1, 1 ), material );","\t\t\tvar shape = new Ammo.btBoxShape( new Ammo.btVector3( sx * 0.5, sy * 0.5, sz * 0.5 ) );","\t\t\tshape.setMargin( margin );","\t\t\tcreateRigidBody( object, shape, mass, pos, quat );","\t\t\treturn object;","\t\t}","\t\tfunction createDebrisFromBreakableObject( object ) {","\t\t\tobject.castShadow = true;","\t\t\tobject.receiveShadow = true;","\t\t\tvar shape = createConvexHullPhysicsShape( object.geometry.vertices );","\t\t\tshape.setMargin( margin );","\t\t\tvar body = createRigidBody( object, shape, object.userData.mass, null, null, object.userData.velocity, object.userData.angularVelocity );","\t\t\t// Set pointer back to the three object only in the debris objects","\t\t\tvar btVecUserData = new Ammo.btVector3( 0, 0, 0 );","\t\t\tbtVecUserData.threeObject = object;","\t\t\tbody.setUserPointer( btVecUserData );","\t\t}","\t\tfunction removeDebris( object ) {","\t\t\tscene.remove( object );","\t\t\tphysicsWorld.removeRigidBody( object.userData.physicsBody );","\t\t}","\t\tfunction createConvexHullPhysicsShape( points ) {","\t\t\tvar shape = new Ammo.btConvexHullShape();","\t\t\tfor ( var i = 0, il = points.length; i < il; i++ ) {","\t\t\t\tvar p = points[ i ];","\t\t\t\tthis.tempBtVec3_1.setValue( p.x, p.y, p.z );","\t\t\t\tvar lastOne = ( i === ( il - 1 ) );","\t\t\t\tshape.addPoint( this.tempBtVec3_1, lastOne );","\t\t\t}","\t\t\treturn shape;","\t\t}","\t\tfunction createRigidBody( object, physicsShape, mass, pos, quat, vel, angVel ) {","\t\t\tif ( pos ) {","\t\t\t\tobject.position.copy( pos );","\t\t\t}","\t\t\telse {","\t\t\t\tpos = object.position;","\t\t\t}","\t\t\tif ( quat ) {","\t\t\t\tobject.quaternion.copy( quat );","\t\t\t}","\t\t\telse {","\t\t\t\tquat = object.quaternion;","\t\t\t}","\t\t\tvar transform = new Ammo.btTransform();","\t\t\ttransform.setIdentity();","\t\t\ttransform.setOrigin( new Ammo.btVector3( pos.x, pos.y, pos.z ) );","\t\t\ttransform.setRotation( new Ammo.btQuaternion( quat.x, quat.y, quat.z, quat.w ) );","\t\t\tvar motionState = new Ammo.btDefaultMotionState( transform );","\t\t\tvar localInertia = new Ammo.btVector3( 0, 0, 0 );","\t\t\tphysicsShape.calculateLocalInertia( mass, localInertia );","\t\t\tvar rbInfo = new Ammo.btRigidBodyConstructionInfo( mass, motionState, physicsShape, localInertia );","\t\t\tvar body = new Ammo.btRigidBody( rbInfo );","\t\t\tbody.setFriction( 0.5 );","\t\t\tif ( vel ) {","\t\t\t\tbody.setLinearVelocity( new Ammo.btVector3( vel.x, vel.y, vel.z ) );","\t\t\t}","\t\t\tif ( angVel ) {","\t\t\t\tbody.setAngularVelocity( new Ammo.btVector3( angVel.x, angVel.y, angVel.z ) );","\t\t\t}","\t\t\tobject.userData.physicsBody = body;","\t\t\tobject.userData.collided = false;","\t\t\tscene.add( object );","\t\t\tif ( mass > 0 ) {","\t\t\t\trigidBodies.push( object );","\t\t\t\t// Disable deactivation","\t\t\t\tbody.setActivationState( 4 );","\t\t\t}","\t\t\tphysicsWorld.addRigidBody( body );","\t\t\treturn body;","\t\t}","\t\tfunction createRandomColor() {","\t\t\treturn Math.floor( Math.random() * ( 1 << 24 ) );","\t\t}","\t\tfunction createMaterial( color ) {","\t\t\tcolor = color || createRandomColor();","\t\t\treturn new THREE.MeshPhongMaterial( { color: color } );","\t\t}","\t\tfunction initInput() {","\t\t\twindow.addEventListener( 'mousedown', function( event ) {","\t\t\t\tmouseCoords.set(","\t\t\t\t\t( event.clientX / window.innerWidth ) * 2 - 1,","\t\t\t\t\t- ( event.clientY / window.innerHeight ) * 2 + 1","\t\t\t\t);","\t\t\t\traycaster.setFromCamera( mouseCoords, camera );","\t\t\t\t// Creates a ball and throws it","\t\t\t\tvar ballMass = 35;","\t\t\t\tvar ballRadius = 0.4;","\t\t\t\tvar ball = new THREE.Mesh( new THREE.SphereGeometry( ballRadius, 14, 10 ), ballMaterial );","\t\t\t\tball.castShadow = true;","\t\t\t\tball.receiveShadow = true;","\t\t\t\tvar ballShape = new Ammo.btSphereShape( ballRadius );","\t\t\t\tballShape.setMargin( margin );","\t\t\t\tpos.copy( raycaster.ray.direction );","\t\t\t\tpos.add( raycaster.ray.origin );","\t\t\t\tquat.set( 0, 0, 0, 1 );","\t\t\t\tvar ballBody = createRigidBody( ball, ballShape, ballMass, pos, quat );","\t\t\t\tpos.copy( raycaster.ray.direction );","\t\t\t\tpos.multiplyScalar( 24 );","\t\t\t\tballBody.setLinearVelocity( new Ammo.btVector3( pos.x, pos.y, pos.z ) );","\t\t\t}, false );","\t\t}","\t\tfunction onWindowResize() {","\t\t\tcamera.aspect = window.innerWidth / window.innerHeight;","\t\t\tcamera.updateProjectionMatrix();","\t\t\trenderer.setSize( window.innerWidth, window.innerHeight );","\t\t}","\t\tfunction animate() {","\t\t\trequestAnimationFrame( animate );","\t\t\trender();","\t\t\tstats.update();","\t\t}","\t\tfunction render() {","\t\t\tvar deltaTime = clock.getDelta();","\t\t\tupdatePhysics( deltaTime );","\t\t\tcontrols.update( deltaTime );","\t\t\trenderer.render( scene, camera );","\t\t\ttime += deltaTime;","\t\t}","\t\tfunction updatePhysics( deltaTime ) {","\t\t\t// Step world","\t\t\tphysicsWorld.stepSimulation( deltaTime, 10 );","\t\t\t// Update rigid bodies","\t\t\tfor ( var i = 0, il = rigidBodies.length; i < il; i++ ) {","\t\t\t\tvar objThree = rigidBodies[ i ];","\t\t\t\tvar objPhys = objThree.userData.physicsBody;","\t\t\t\tvar ms = objPhys.getMotionState();","\t\t\t\tif ( ms ) {","\t\t\t\t\tms.getWorldTransform( transformAux1 );","\t\t\t\t\tvar p = transformAux1.getOrigin();","\t\t\t\t\tvar q = transformAux1.getRotation();","\t\t\t\t\tobjThree.position.set( p.x(), p.y(), p.z() );","\t\t\t\t\tobjThree.quaternion.set( q.x(), q.y(), q.z(), q.w() );","\t\t\t\t\tobjThree.userData.collided = false;","\t\t\t\t}","\t\t\t}","\t\t\tfor ( var i = 0, il = dispatcher.getNumManifolds(); i < il; i ++ ) {","\t\t\t\tvar contactManifold = dispatcher.getManifoldByIndexInternal( i );","\t\t\t\tvar rb0 = contactManifold.getBody0();","\t\t\t\tvar rb1 = contactManifold.getBody1();","\t\t\t\tvar threeObject0 = Ammo.castObject( rb0.getUserPointer(), Ammo.btVector3 ).threeObject;","\t\t\t\tvar threeObject1 = Ammo.castObject( rb1.getUserPointer(), Ammo.btVector3 ).threeObject;","\t\t\t\tif ( ! threeObject0 && ! threeObject1 ) {","\t\t\t\t\tcontinue;","\t\t\t\t}","\t\t\t\tvar userData0 = threeObject0 ? threeObject0.userData : null;","\t\t\t\tvar userData1 = threeObject1 ? threeObject1.userData : null;","\t\t\t\tvar breakable0 = userData0 ? userData0.breakable : false;","\t\t\t\tvar breakable1 = userData1 ? userData1.breakable : false;","\t\t\t\tvar collided0 = userData0 ? userData0.collided : false;","\t\t\t\tvar collided1 = userData1 ? userData1.collided : false;","\t\t\t\tif ( ( ! breakable0 && ! breakable1 ) || ( collided0 && collided1 ) ) {","\t\t\t\t\tcontinue;","\t\t\t\t}","\t\t\t\tvar contact = false;","\t\t\t\tvar maxImpulse = 0;","\t\t\t\tfor ( var j = 0, jl = contactManifold.getNumContacts(); j < jl; j ++ ) {","\t\t\t\t\tvar contactPoint = contactManifold.getContactPoint( j );","\t\t\t\t\tif ( contactPoint.getDistance() < 0 ) {","\t\t\t\t\t\tcontact = true;","\t\t\t\t\t\tvar impulse = contactPoint.getAppliedImpulse();","\t\t\t\t\t\tif ( impulse > maxImpulse ) {","\t\t\t\t\t\t\tmaxImpulse = impulse;","\t\t\t\t\t\t\tvar pos = contactPoint.get_m_positionWorldOnB();","\t\t\t\t\t\t\tvar normal = contactPoint.get_m_normalWorldOnB();","\t\t\t\t\t\t\timpactPoint.set( pos.x(), pos.y(), pos.z() );","\t\t\t\t\t\t\timpactNormal.set( normal.x(), normal.y(), normal.z() );","\t\t\t\t\t\t}","\t\t\t\t\t\tbreak;","\t\t\t\t\t}","\t\t\t\t}","\t\t\t\t// If no point has contact, abort","\t\t\t\tif ( ! contact ) {","\t\t\t\t\tcontinue;","\t\t\t\t}","\t\t\t\t// Subdivision","\t\t\t\tvar fractureImpulse = 250;","\t\t\t\tif ( breakable0 && !collided0 && maxImpulse > fractureImpulse ) {","\t\t\t\t\tvar debris = convexBreaker.subdivideByImpact( threeObject0, impactPoint, impactNormal , 1, 2, 1.5 );","\t\t\t\t\tvar numObjects = debris.length;","\t\t\t\t\tfor ( var j = 0; j < numObjects; j++ ) {","\t\t\t\t\t\tcreateDebrisFromBreakableObject( debris[ j ] );","\t\t\t\t\t}","\t\t\t\t\tobjectsToRemove[ numObjectsToRemove++ ] = threeObject0;","\t\t\t\t\tuserData0.collided = true;","\t\t\t\t}","\t\t\t\tif ( breakable1 && !collided1 && maxImpulse > fractureImpulse ) {","\t\t\t\t\tvar debris = convexBreaker.subdivideByImpact( threeObject1, impactPoint, impactNormal , 1, 2, 1.5 );","\t\t\t\t\tvar numObjects = debris.length;","\t\t\t\t\tfor ( var j = 0; j < numObjects; j++ ) {","\t\t\t\t\t\tcreateDebrisFromBreakableObject( debris[ j ] );","\t\t\t\t\t}","\t\t\t\t\tobjectsToRemove[ numObjectsToRemove++ ] = threeObject1;","\t\t\t\t\tuserData1.collided = true;","\t\t\t\t}","\t\t\t}","\t\t\tfor ( var i = 0; i < numObjectsToRemove; i++ ) {","\t\t\t\tremoveDebris( objectsToRemove[ i ] );","\t\t\t}","\t\t\tnumObjectsToRemove = 0;","\t\t}","\t\t</script>","","\t</body>","</html>"],"id":1}],[{"start":{"row":30,"column":14},"end":{"row":30,"column":22},"action":"remove","lines":["../build"],"id":2},{"start":{"row":30,"column":14},"end":{"row":30,"column":15},"action":"insert","lines":["l"]}],[{"start":{"row":30,"column":15},"end":{"row":30,"column":16},"action":"insert","lines":["i"],"id":3}],[{"start":{"row":30,"column":16},"end":{"row":30,"column":17},"action":"insert","lines":["b"],"id":4}],[{"start":{"row":31,"column":14},"end":{"row":31,"column":21},"action":"remove","lines":["js/libs"],"id":5},{"start":{"row":31,"column":14},"end":{"row":31,"column":15},"action":"insert","lines":["l"]}],[{"start":{"row":31,"column":15},"end":{"row":31,"column":16},"action":"insert","lines":["i"],"id":6}],[{"start":{"row":31,"column":16},"end":{"row":31,"column":17},"action":"insert","lines":["b"],"id":7}],[{"start":{"row":32,"column":14},"end":{"row":32,"column":25},"action":"remove","lines":["js/controls"],"id":8},{"start":{"row":32,"column":14},"end":{"row":32,"column":15},"action":"insert","lines":["l"]}],[{"start":{"row":32,"column":15},"end":{"row":32,"column":16},"action":"insert","lines":["i"],"id":9}],[{"start":{"row":32,"column":16},"end":{"row":32,"column":17},"action":"insert","lines":["b"],"id":10}],[{"start":{"row":33,"column":14},"end":{"row":33,"column":16},"action":"remove","lines":["js"],"id":11},{"start":{"row":33,"column":14},"end":{"row":33,"column":15},"action":"insert","lines":["l"]}],[{"start":{"row":33,"column":15},"end":{"row":33,"column":16},"action":"insert","lines":["i"],"id":12}],[{"start":{"row":33,"column":16},"end":{"row":33,"column":17},"action":"insert","lines":["b"],"id":13}],[{"start":{"row":34,"column":14},"end":{"row":34,"column":21},"action":"remove","lines":["js/libs"],"id":14},{"start":{"row":34,"column":14},"end":{"row":34,"column":15},"action":"insert","lines":["l"]}],[{"start":{"row":34,"column":15},"end":{"row":34,"column":16},"action":"insert","lines":["i"],"id":15}],[{"start":{"row":34,"column":16},"end":{"row":34,"column":17},"action":"insert","lines":["b"],"id":16}],[{"start":{"row":35,"column":14},"end":{"row":35,"column":16},"action":"remove","lines":["js"],"id":17},{"start":{"row":35,"column":14},"end":{"row":35,"column":15},"action":"insert","lines":["l"]}],[{"start":{"row":35,"column":15},"end":{"row":35,"column":16},"action":"insert","lines":["i"],"id":18}],[{"start":{"row":35,"column":16},"end":{"row":35,"column":17},"action":"insert","lines":["b"],"id":19}],[{"start":{"row":36,"column":14},"end":{"row":36,"column":16},"action":"remove","lines":["js"],"id":20},{"start":{"row":36,"column":14},"end":{"row":36,"column":15},"action":"insert","lines":["l"]}],[{"start":{"row":36,"column":15},"end":{"row":36,"column":16},"action":"insert","lines":["i"],"id":21}],[{"start":{"row":36,"column":16},"end":{"row":36,"column":17},"action":"insert","lines":["b"],"id":22}],[{"start":{"row":37,"column":14},"end":{"row":37,"column":16},"action":"remove","lines":["js"],"id":23},{"start":{"row":37,"column":14},"end":{"row":37,"column":15},"action":"insert","lines":["l"]}],[{"start":{"row":37,"column":15},"end":{"row":37,"column":16},"action":"insert","lines":["i"],"id":24}],[{"start":{"row":37,"column":16},"end":{"row":37,"column":17},"action":"insert","lines":["b"],"id":25}],[{"start":{"row":37,"column":18},"end":{"row":37,"column":29},"action":"remove","lines":["geometries/"],"id":26}],[{"start":{"row":30,"column":23},"end":{"row":30,"column":24},"action":"insert","lines":["."],"id":27}],[{"start":{"row":30,"column":24},"end":{"row":30,"column":25},"action":"insert","lines":["m"],"id":28}],[{"start":{"row":30,"column":25},"end":{"row":30,"column":26},"action":"insert","lines":["i"],"id":29}],[{"start":{"row":30,"column":26},"end":{"row":30,"column":27},"action":"insert","lines":["n"],"id":30}]]},"ace":{"folds":[],"scrolltop":7707.2001953125,"scrollleft":0,"selection":{"start":{"row":338,"column":20},"end":{"row":338,"column":20},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":331,"state":"js-start","mode":"ace/mode/html"}},"timestamp":1493220296105,"hash":"b718768c3f7e7e6eb179593a24eca08e7ee9bd70"}