{"filter":false,"title":"index1b.js","tooltip":"/index1b.js","undoManager":{"mark":57,"position":57,"stack":[[{"start":{"row":0,"column":0},"end":{"row":159,"column":13},"action":"insert","lines":[" var angulo = 0;","            var posx = 0;","            var posz = 0;","            var posy = 0;","          ","            init();","            animate();","            $(document).ready(function(){","             $(document).keydown(function(event){","                    console.log(\"tecla\")","                    if ( event.which == 37 ) {","                         posx--;","                      }","                       if ( event.which == 39 ) {","                         posx++","                      }","                      if ( event.which == 38 ) {","                         posz++","                      }","                      if ( event.which == 40 ) {","                         posz--","                      }","                    ","                })","            })","            function init(){","                // Dentro del documento, creo un elemento nuevo llamado div","               container = document.createElement(\"div\");","               // Añado el contenedor al documento","               document.body.appendChild(container)","               // Creo una nueva camara YA en el mundo 3D","               camera = new THREE.PerspectiveCamera(70,1.3,1,1000);","               // Ahora le digo a la camara DONDE esta","               camera.position.x = 0;","               camera.position.y = 0;","               camera.position.z = 100;","               ","               // Ahora quiero una escena 3D - La escena 3D es la que lo recoge todo","               escena = new THREE.Scene();","               /*////////////////////////////////////////////////////////*/","               // Ya tengo una camara en el mundo 3D.","               // Ahora quiero geometria","               cubo = new THREE.BoxGeometry(5,5,5);","               // Al cubo le quiero poner un material","               //material = new THREE.MeshBasicMaterial({color:0xff0000});","               material = new THREE.MeshPhongMaterial({color:0xff0000});","               ","               micubo = new THREE.Mesh(cubo,material);","               micubo.position.x = 0;","               micubo.position.y = 0;","               micubo.position.z = 0;","               micubo.rotation.y = Math.PI/4","               escena.add(micubo);","                /*////////////////////////////////////////////////////////*/","                ","                /*////////////////////////////////////////////////////////*/","               // Ya tengo una camara en el mundo 3D.","               // Ahora quiero geometria","               cubo2 = new THREE.BoxGeometry(200,10,200);","               // Al cubo le quiero poner un material","               //material = new THREE.MeshBasicMaterial({color:0xff0000});","               material2 = new THREE.MeshPhongMaterial({color:0x00ff00});","               ","               micubo2 = new THREE.Mesh(cubo2,material2);","               micubo2.position.x = 0;","               micubo2.position.y = -45;","               micubo2.position.z = 0;","               micubo2.rotation.y = Math.PI/4","               escena.add(micubo2);","                /*////////////////////////////////////////////////////////*/","                ","                 /*////////////////////////////////////////////////////////*/","               // Ya tengo una camara en el mundo 3D.","               // Ahora quiero geometria","               esfera = new THREE.SphereGeometry( 5, 32, 32 )","               // Al cubo le quiero poner un material","               //material = new THREE.MeshBasicMaterial({color:0xff0000});","               material3 = new THREE.MeshPhongMaterial({color:0x0000ff});","               ","               miesfera = new THREE.Mesh(esfera,material3);","               miesfera.position.x = 0;","               miesfera.position.y = -35;","               miesfera.position.z = 0;","               miesfera.rotation.y = Math.PI/4","               escena.add(miesfera);","                /*////////////////////////////////////////////////////////*/","               ","               /*/////////////AQUI VOY A IMPORTAR UNA LIBRERIA OBJ/////////////*/","                   // Creo un gestor de carga (si os fijais mas abajo vereis que es necesario)","                   var manager = new THREE.LoadingManager();","                   // Creo un nuevo material","                   material4 = new THREE.MeshPhongMaterial({color:0xffffff});","                   // Sobre el gestor, cargo un cargador de OBJ","                   var loader = new THREE.OBJLoader(manager)","                   // Sobre el cargador, cargo el modelo concreto OBJ","                   loader.load(\"modelos/suzanne.obj\",function(object){","                       object.traverse( function ( child ) {","    \t\t\t\t\t\tif ( child instanceof THREE.Mesh ) {","    \t\t\t\t\t\t    // Si es hijo de malla 3D, aplicale este material","    \t\t\t\t\t\t\tchild.material = material4;","    \t\t\t\t\t\t}","    \t\t\t\t\t} );","    \t\t\t\t\t// Transforma el modelo ","    \t\t\t\t\t","    \t\t\t\t\tobject.position.x = 0;","    \t\t\t\t\tobject.position.y = -20;","    \t\t\t\t\tobject.position.z = 0;","    \t\t\t\t\tobject.scale.x = 10;","    \t\t\t\t\tobject.scale.y = 10;","    \t\t\t\t\tobject.scale.z = 10;","    \t\t\t\t\tmono = object","    \t\t\t\t\t// Añadelo a la escena","    \t\t\t\t\tescena.add(mono);","                   },onProgress,onError)","                   // Esto es algo que ejecutamos mientras se carga","                   function onProgress(){}","                   // Esto se lanza si hay algun error en la carga","                   function onError(){}","               /*/////////////AQUI VOY A IMPORTAR UNA LIBRERIA/////////////*/","               ","              // Pues vale Elias, vamos a crear una luz","              luz = new THREE.PointLight( 0xffffff, 2, 1000 );","              luz.position.set( 100, 100, 100 );","                escena.add( luz );","              ","               ","               // De los renderizadores disponibles en Three, voy a usar uno que de momento no usa aceleración 3D","               //renderer = new THREE.CanvasRenderer();","               renderer = new THREE.WebGLRenderer();","               // El color de fondo es gris","               renderer.setClearColor(0xf0f0f0);","               // Pongo el pixel aspect ratio","               renderer.setPixelRatio(1);","               // Le digo el tamaño de la ventana","               renderer.setSize(800,600);","               // Añadimos el renderizador al HTML","               container.appendChild(renderer.domElement)","               ","            }","            ","            function animate(){","               //mono.rotation.x = angulo;","               //mono.rotation.y = angulo;","                miesfera.position.x = posx;","                miesfera.position.z = posz;","                // Cada vez que pases por aqui aumenta un poco el angulo","                angulo += 0.01;","                // Y ahora actualizame la rotación de la caja","                micubo.rotation.y = angulo;","                micubo.rotation.x = angulo;","                // Ejecuta animate de nuevo cuando puedas","                requestAnimationFrame(animate);","                // Ejecuta el render","                render();","            }","            function render(){","                // Esta es la linea que hace toda la magia","                renderer.render(escena,camera);","                ","            }"],"id":1}],[{"start":{"row":74,"column":61},"end":{"row":74,"column":62},"action":"insert","lines":[";"],"id":2}],[{"start":{"row":67,"column":45},"end":{"row":67,"column":46},"action":"insert","lines":[";"],"id":3}],[{"start":{"row":14,"column":31},"end":{"row":14,"column":32},"action":"insert","lines":[";"],"id":4}],[{"start":{"row":17,"column":31},"end":{"row":17,"column":32},"action":"insert","lines":[";"],"id":5}],[{"start":{"row":20,"column":31},"end":{"row":20,"column":32},"action":"insert","lines":[";"],"id":6}],[{"start":{"row":29,"column":51},"end":{"row":29,"column":52},"action":"insert","lines":[";"],"id":7}],[{"start":{"row":51,"column":44},"end":{"row":51,"column":45},"action":"insert","lines":[";"],"id":8}],[{"start":{"row":83,"column":46},"end":{"row":83,"column":47},"action":"insert","lines":[";"],"id":9}],[{"start":{"row":93,"column":60},"end":{"row":93,"column":61},"action":"insert","lines":[";"],"id":10}],[{"start":{"row":110,"column":22},"end":{"row":110,"column":23},"action":"insert","lines":[";"],"id":11}],[{"start":{"row":113,"column":40},"end":{"row":113,"column":41},"action":"insert","lines":[";"],"id":12}],[{"start":{"row":136,"column":57},"end":{"row":136,"column":58},"action":"insert","lines":[";"],"id":13}],[{"start":{"row":26,"column":0},"end":{"row":26,"column":75},"action":"remove","lines":["                // Dentro del documento, creo un elemento nuevo llamado div"],"id":14}],[{"start":{"row":25,"column":28},"end":{"row":26,"column":0},"action":"remove","lines":["",""],"id":15}],[{"start":{"row":27,"column":0},"end":{"row":27,"column":50},"action":"remove","lines":["               // Añado el contenedor al documento"],"id":16}],[{"start":{"row":26,"column":57},"end":{"row":27,"column":0},"action":"remove","lines":["",""],"id":17}],[{"start":{"row":28,"column":0},"end":{"row":28,"column":57},"action":"remove","lines":["               // Creo una nueva camara YA en el mundo 3D"],"id":18}],[{"start":{"row":27,"column":52},"end":{"row":28,"column":0},"action":"remove","lines":["",""],"id":19}],[{"start":{"row":29,"column":0},"end":{"row":29,"column":54},"action":"remove","lines":["               // Ahora le digo a la camara DONDE esta"],"id":20}],[{"start":{"row":28,"column":67},"end":{"row":29,"column":0},"action":"remove","lines":["",""],"id":21}],[{"start":{"row":33,"column":0},"end":{"row":33,"column":84},"action":"remove","lines":["               // Ahora quiero una escena 3D - La escena 3D es la que lo recoge todo"],"id":22}],[{"start":{"row":32,"column":15},"end":{"row":33,"column":0},"action":"remove","lines":["",""],"id":23}],[{"start":{"row":34,"column":0},"end":{"row":34,"column":75},"action":"remove","lines":["               /*////////////////////////////////////////////////////////*/"],"id":24}],[{"start":{"row":33,"column":42},"end":{"row":34,"column":0},"action":"remove","lines":["",""],"id":25}],[{"start":{"row":34,"column":0},"end":{"row":35,"column":40},"action":"remove","lines":["               // Ya tengo una camara en el mundo 3D.","               // Ahora quiero geometria"],"id":26}],[{"start":{"row":33,"column":42},"end":{"row":34,"column":0},"action":"remove","lines":["",""],"id":27}],[{"start":{"row":35,"column":0},"end":{"row":36,"column":74},"action":"remove","lines":["               // Al cubo le quiero poner un material","               //material = new THREE.MeshBasicMaterial({color:0xff0000});"],"id":28}],[{"start":{"row":34,"column":51},"end":{"row":35,"column":0},"action":"remove","lines":["",""],"id":29}],[{"start":{"row":43,"column":0},"end":{"row":45,"column":76},"action":"remove","lines":["                /*////////////////////////////////////////////////////////*/","                ","                /*////////////////////////////////////////////////////////*/"],"id":30}],[{"start":{"row":44,"column":0},"end":{"row":45,"column":40},"action":"remove","lines":["               // Ya tengo una camara en el mundo 3D.","               // Ahora quiero geometria"],"id":31}],[{"start":{"row":46,"column":0},"end":{"row":47,"column":74},"action":"remove","lines":["               // Al cubo le quiero poner un material","               //material = new THREE.MeshBasicMaterial({color:0xff0000});"],"id":32}],[{"start":{"row":55,"column":0},"end":{"row":57,"column":77},"action":"remove","lines":["                /*////////////////////////////////////////////////////////*/","                ","                 /*////////////////////////////////////////////////////////*/"],"id":33}],[{"start":{"row":55,"column":0},"end":{"row":57,"column":40},"action":"remove","lines":["","               // Ya tengo una camara en el mundo 3D.","               // Ahora quiero geometria"],"id":34}],[{"start":{"row":57,"column":0},"end":{"row":58,"column":74},"action":"remove","lines":["               // Al cubo le quiero poner un material","               //material = new THREE.MeshBasicMaterial({color:0xff0000});"],"id":35}],[{"start":{"row":66,"column":0},"end":{"row":69,"column":94},"action":"remove","lines":["                /*////////////////////////////////////////////////////////*/","               ","               /*/////////////AQUI VOY A IMPORTAR UNA LIBRERIA OBJ/////////////*/","                   // Creo un gestor de carga (si os fijais mas abajo vereis que es necesario)"],"id":36}],[{"start":{"row":68,"column":0},"end":{"row":68,"column":44},"action":"remove","lines":["                   // Creo un nuevo material"],"id":37}],[{"start":{"row":70,"column":0},"end":{"row":70,"column":63},"action":"remove","lines":["                   // Sobre el gestor, cargo un cargador de OBJ"],"id":38}],[{"start":{"row":72,"column":0},"end":{"row":72,"column":69},"action":"remove","lines":["                   // Sobre el cargador, cargo el modelo concreto OBJ"],"id":39}],[{"start":{"row":76,"column":0},"end":{"row":76,"column":63},"action":"remove","lines":["    \t\t\t\t\t\t    // Si es hijo de malla 3D, aplicale este material"],"id":40}],[{"start":{"row":80,"column":0},"end":{"row":80,"column":33},"action":"remove","lines":["    \t\t\t\t\t// Transforma el modelo "],"id":41}],[{"start":{"row":89,"column":1},"end":{"row":89,"column":31},"action":"remove","lines":["   \t\t\t\t\t// Añadelo a la escena"],"id":42}],[{"start":{"row":92,"column":0},"end":{"row":92,"column":67},"action":"remove","lines":["                   // Esto es algo que ejecutamos mientras se carga"],"id":43}],[{"start":{"row":94,"column":0},"end":{"row":94,"column":66},"action":"remove","lines":["                   // Esto se lanza si hay algun error en la carga"],"id":44}],[{"start":{"row":96,"column":0},"end":{"row":96,"column":77},"action":"remove","lines":["               /*/////////////AQUI VOY A IMPORTAR UNA LIBRERIA/////////////*/"],"id":45}],[{"start":{"row":98,"column":0},"end":{"row":98,"column":55},"action":"remove","lines":["              // Pues vale Elias, vamos a crear una luz"],"id":46}],[{"start":{"row":103,"column":0},"end":{"row":105,"column":55},"action":"remove","lines":["               ","               // De los renderizadores disponibles en Three, voy a usar uno que de momento no usa aceleración 3D","               //renderer = new THREE.CanvasRenderer();"],"id":47}],[{"start":{"row":105,"column":0},"end":{"row":105,"column":43},"action":"remove","lines":["               // El color de fondo es gris"],"id":48}],[{"start":{"row":107,"column":0},"end":{"row":107,"column":45},"action":"remove","lines":["               // Pongo el pixel aspect ratio"],"id":49}],[{"start":{"row":109,"column":0},"end":{"row":109,"column":49},"action":"remove","lines":["               // Le digo el tamaño de la ventana"],"id":50}],[{"start":{"row":111,"column":0},"end":{"row":111,"column":50},"action":"remove","lines":["               // Añadimos el renderizador al HTML"],"id":51}],[{"start":{"row":117,"column":0},"end":{"row":118,"column":42},"action":"remove","lines":["               //mono.rotation.x = angulo;","               //mono.rotation.y = angulo;"],"id":52}],[{"start":{"row":120,"column":0},"end":{"row":120,"column":72},"action":"remove","lines":["                // Cada vez que pases por aqui aumenta un poco el angulo"],"id":53}],[{"start":{"row":122,"column":0},"end":{"row":122,"column":60},"action":"remove","lines":["                // Y ahora actualizame la rotación de la caj"],"id":54}],[{"start":{"row":122,"column":0},"end":{"row":122,"column":1},"action":"remove","lines":["a"],"id":55}],[{"start":{"row":125,"column":0},"end":{"row":125,"column":57},"action":"remove","lines":["                // Ejecuta animate de nuevo cuando puedas"],"id":56}],[{"start":{"row":127,"column":0},"end":{"row":127,"column":36},"action":"remove","lines":["                // Ejecuta el render"],"id":57}],[{"start":{"row":131,"column":0},"end":{"row":131,"column":58},"action":"remove","lines":["                // Esta es la linea que hace toda la magia"],"id":58}]]},"ace":{"folds":[],"scrolltop":2340,"scrollleft":0,"selection":{"start":{"row":117,"column":0},"end":{"row":117,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1491840183322,"hash":"a81080831b7626f9a6deed68d678145b77680909"}